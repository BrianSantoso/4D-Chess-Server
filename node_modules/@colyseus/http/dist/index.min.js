!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.httpie={})}(this,function(e){function t(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}e.send=function(e,n,s){return new Promise(function(o,i){var d,r,a,u;s=s||{};var p=new XMLHttpRequest,f=s.headers||{};for(d in s.timeout&&(p.timeout=s.timeout),p.ontimeout=p.onerror=function(e){e.timeout="timeout"==e.type,i(e)},p.open(e,n.href||n),p.onload=function(){for(u=p.getAllResponseHeaders().trim().split(/[\r\n]+/),t(p,p);a=u.shift();)a=a.split(": "),p.headers[a.shift().toLowerCase()]=a.join(": ");if((a=p.headers["content-type"])&&~a.indexOf("application/json"))try{p.data=JSON.parse(p.data,s.reviver)}catch(e){return t(p,e),i(e)}(p.status>=400?i:o)(p)},(r=s.body)&&"object"==typeof r&&(f["content-type"]="application/json",r=JSON.stringify(r)),p.withCredentials=!!s.withCredentials,f)p.setRequestHeader(d,f[d]);p.send(r)})},e.get=e.send.bind(e.send,"GET"),e.post=e.send.bind(e.send,"POST"),e.patch=e.send.bind(e.send,"PATCH"),e.del=e.send.bind(e.send,"DELETE"),e.put=e.send.bind(e.send,"PUT")});