"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ClientState = void 0;
var ClientState = /** @class */ (function () {
    function ClientState() {
        this.refIds = new WeakSet();
        this.containerIndexes = new WeakMap();
    }
    // containerIndexes = new Map<ChangeTree, Set<number>>();
    ClientState.prototype.addRefId = function (changeTree) {
        if (!this.refIds.has(changeTree)) {
            this.refIds.add(changeTree);
            this.containerIndexes.set(changeTree, new Set());
        }
    };
    ClientState.get = function (client) {
        if (client.$filterState === undefined) {
            client.$filterState = new ClientState();
        }
        return client.$filterState;
    };
    return ClientState;
}());
exports.ClientState = ClientState;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZmlsdGVycy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFHQTtJQUFBO1FBQ0ksV0FBTSxHQUFHLElBQUksT0FBTyxFQUFjLENBQUM7UUFDbkMscUJBQWdCLEdBQUcsSUFBSSxPQUFPLEVBQTJCLENBQUM7SUFpQjlELENBQUM7SUFoQkcseURBQXlEO0lBRXpELDhCQUFRLEdBQVIsVUFBUyxVQUFzQjtRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1NBQ3BEO0lBQ0wsQ0FBQztJQUVNLGVBQUcsR0FBVixVQUFXLE1BQWM7UUFDckIsSUFBSSxNQUFNLENBQUMsWUFBWSxLQUFLLFNBQVMsRUFBRTtZQUNuQyxNQUFNLENBQUMsWUFBWSxHQUFHLElBQUksV0FBVyxFQUFFLENBQUM7U0FDM0M7UUFFRCxPQUFPLE1BQU0sQ0FBQyxZQUEyQixDQUFDO0lBQzlDLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUMsQUFuQkQsSUFtQkM7QUFuQlksa0NBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VUcmVlIH0gZnJvbSBcIi4uL2NoYW5nZXMvQ2hhbmdlVHJlZVwiO1xuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSBcIi4uL2Fubm90YXRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBDbGllbnRTdGF0ZSB7XG4gICAgcmVmSWRzID0gbmV3IFdlYWtTZXQ8Q2hhbmdlVHJlZT4oKTtcbiAgICBjb250YWluZXJJbmRleGVzID0gbmV3IFdlYWtNYXA8Q2hhbmdlVHJlZSwgU2V0PG51bWJlcj4+KCk7XG4gICAgLy8gY29udGFpbmVySW5kZXhlcyA9IG5ldyBNYXA8Q2hhbmdlVHJlZSwgU2V0PG51bWJlcj4+KCk7XG5cbiAgICBhZGRSZWZJZChjaGFuZ2VUcmVlOiBDaGFuZ2VUcmVlKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWZJZHMuaGFzKGNoYW5nZVRyZWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlZklkcy5hZGQoY2hhbmdlVHJlZSk7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckluZGV4ZXMuc2V0KGNoYW5nZVRyZWUsIG5ldyBTZXQoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0KGNsaWVudDogQ2xpZW50KSB7XG4gICAgICAgIGlmIChjbGllbnQuJGZpbHRlclN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNsaWVudC4kZmlsdGVyU3RhdGUgPSBuZXcgQ2xpZW50U3RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjbGllbnQuJGZpbHRlclN0YXRlIGFzIENsaWVudFN0YXRlO1xuICAgIH1cbn1cbiJdfQ==