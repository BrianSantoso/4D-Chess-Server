"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @author Ethan Davis
 * https://github.com/ethanent/gar
 */
exports.default = (function (sargs) {
    var props = {};
    var lones = [];
    var convertIfApplicable = function (value) { return (isNaN(value) ? (value.toString().toLowerCase() === 'true' ? true : (value.toString().toLowerCase() === 'false' ? false : value)) : Number(value)); };
    var removeStartHyphens = function (value) { return value.replace(/^\-+/g, ''); };
    for (var i = 0; i < sargs.length; i++) {
        var equalsIndex = sargs[i].indexOf('=');
        var isNextRefProp = sargs[i].charAt(0) === '-' && sargs.length - 1 >= i + 1 && sargs[i + 1].indexOf('=') === -1 && sargs[i + 1].charAt(0) !== '-';
        var argName = equalsIndex === -1 ? removeStartHyphens(sargs[i]) : removeStartHyphens(sargs[i].slice(0, equalsIndex));
        if (equalsIndex !== -1) {
            props[argName] = convertIfApplicable(sargs[i].slice(equalsIndex + 1));
        }
        else if (isNextRefProp) {
            props[argName] = convertIfApplicable(sargs[i + 1]);
            i++;
        }
        else if (sargs[i].charAt(0) === '-') {
            if (sargs[i].charAt(1) === '-') {
                props[argName] = true;
            }
            else {
                for (var b = 0; b < argName.length; b++) {
                    props[argName.charAt(b)] = true;
                }
            }
        }
        else {
            lones.push(convertIfApplicable(argName));
        }
    }
    return Object.assign(props, {
        '_': lones
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJndi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb2RlZ2VuL2FyZ3YudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7O0dBR0c7QUFDSCxtQkFBZSxVQUFDLEtBQUs7SUFDcEIsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFBO0lBQ2QsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFBO0lBRWQsSUFBTSxtQkFBbUIsR0FBRyxVQUFDLEtBQUssSUFBSyxPQUFBLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsV0FBVyxFQUFFLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFsSixDQUFrSixDQUFBO0lBQ3pMLElBQU0sa0JBQWtCLEdBQUcsVUFBQyxLQUFLLElBQUssT0FBQSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBMUIsQ0FBMEIsQ0FBQTtJQUVoRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN0QyxJQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3pDLElBQU0sYUFBYSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFBO1FBQ25KLElBQU0sT0FBTyxHQUFHLFdBQVcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUE7UUFFdEgsSUFBSSxXQUFXLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDdkIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FDckU7YUFDSSxJQUFJLGFBQWEsRUFBRTtZQUN2QixLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ2xELENBQUMsRUFBRSxDQUFBO1NBQ0g7YUFBTSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO1lBQ3RDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUU7Z0JBQy9CLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUE7YUFDckI7aUJBQ0k7Z0JBQ0osS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ3hDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFBO2lCQUMvQjthQUNEO1NBQ0Q7YUFBTTtZQUNOLEtBQUssQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtTQUN4QztLQUNEO0lBRUQsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtRQUMzQixHQUFHLEVBQUUsS0FBSztLQUNWLENBQUMsQ0FBQTtBQUNILENBQUMsRUFBQSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGF1dGhvciBFdGhhbiBEYXZpc1xuICogaHR0cHM6Ly9naXRodWIuY29tL2V0aGFuZW50L2dhclxuICovXG5leHBvcnQgZGVmYXVsdCAoc2FyZ3MpOiBhbnkgPT4ge1xuXHRsZXQgcHJvcHMgPSB7fVxuXHRsZXQgbG9uZXMgPSBbXVxuXG5cdGNvbnN0IGNvbnZlcnRJZkFwcGxpY2FibGUgPSAodmFsdWUpID0+IChpc05hTih2YWx1ZSkgPyAodmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB0cnVlIDogKHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogdmFsdWUpKSA6IE51bWJlcih2YWx1ZSkpXG5cdGNvbnN0IHJlbW92ZVN0YXJ0SHlwaGVucyA9ICh2YWx1ZSkgPT4gdmFsdWUucmVwbGFjZSgvXlxcLSsvZywgJycpXG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzYXJncy5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGVxdWFsc0luZGV4ID0gc2FyZ3NbaV0uaW5kZXhPZignPScpXG5cdFx0Y29uc3QgaXNOZXh0UmVmUHJvcCA9IHNhcmdzW2ldLmNoYXJBdCgwKSA9PT0gJy0nICYmIHNhcmdzLmxlbmd0aCAtIDEgPj0gaSArIDEgJiYgc2FyZ3NbaSArIDFdLmluZGV4T2YoJz0nKSA9PT0gLTEgJiYgc2FyZ3NbaSArIDFdLmNoYXJBdCgwKSAhPT0gJy0nXG5cdFx0Y29uc3QgYXJnTmFtZSA9IGVxdWFsc0luZGV4ID09PSAtMSA/IHJlbW92ZVN0YXJ0SHlwaGVucyhzYXJnc1tpXSkgOiByZW1vdmVTdGFydEh5cGhlbnMoc2FyZ3NbaV0uc2xpY2UoMCwgZXF1YWxzSW5kZXgpKVxuXG5cdFx0aWYgKGVxdWFsc0luZGV4ICE9PSAtMSkge1xuXHRcdFx0cHJvcHNbYXJnTmFtZV0gPSBjb252ZXJ0SWZBcHBsaWNhYmxlKHNhcmdzW2ldLnNsaWNlKGVxdWFsc0luZGV4ICsgMSkpXG5cdFx0fVxuXHRcdGVsc2UgaWYgKGlzTmV4dFJlZlByb3ApIHtcblx0XHRcdHByb3BzW2FyZ05hbWVdID0gY29udmVydElmQXBwbGljYWJsZShzYXJnc1tpICsgMV0pXG5cdFx0XHRpKytcblx0XHR9IGVsc2UgaWYgKHNhcmdzW2ldLmNoYXJBdCgwKSA9PT0gJy0nKSB7XG5cdFx0XHRpZiAoc2FyZ3NbaV0uY2hhckF0KDEpID09PSAnLScpIHtcblx0XHRcdFx0cHJvcHNbYXJnTmFtZV0gPSB0cnVlXG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Zm9yIChsZXQgYiA9IDA7IGIgPCBhcmdOYW1lLmxlbmd0aDsgYisrKSB7XG5cdFx0XHRcdFx0cHJvcHNbYXJnTmFtZS5jaGFyQXQoYildID0gdHJ1ZVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvbmVzLnB1c2goY29udmVydElmQXBwbGljYWJsZShhcmdOYW1lKSlcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0LmFzc2lnbihwcm9wcywge1xuXHRcdCdfJzogbG9uZXNcblx0fSlcbn1cbiJdfQ==